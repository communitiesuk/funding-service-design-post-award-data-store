components:
  schemas:
    GeneralError:
      type: object
      properties:
        detail:
          type: string
        title:
          type: string
        status:
          type: integer
          format: int32
        type:
          type: string

    PreTransformationError:
      allOf:
        - $ref: '#/components/schemas/GeneralError'
      properties:
        validation_errors:
          type: object
          properties:
            PreTransformationErrors:
              type: array
              items:
                type: string
      example:
        $ref: "#/components/examples/PreTransformationErrorExample"

    ValidationError:
      allOf:
        - $ref: '#/components/schemas/GeneralError'
      properties:
        validation_errors:
          type: array
          items:
            type: object
            properties:
              sheet:
                type: string
              section:
                type: string
              cell:
                type: string
              description:
                type: string
              error_type:
                type: string
      example:
        $ref: "#/components/examples/ValidationErrorExample"

  examples:
    ValidationErrorExample:
      value:
        detail: "Workbook validation failed"
        validation_errors:
          - tab: "Tab1"
            section: "Tab Section 1"
            cell: "A1"
            description: "Error message 1"
            error_type: "WrongInputFailure"
        status: "400"
        title: "Bad Request"

    PreTransformationErrorExample:
      value:
        detail: "Workbook validation failed"
        validation_errors:
          PreTransformationErrors:
            - "Error Message 1"
            - "Error Message 2"
        status: 400
        title: "Bad Request"

    BadRequestExample:
      value:
        detail: "Invalid file type"
        status: 400
        title: "Bad Request"
        type: "about:blank"
