components:
  schemas:
    Ingest:
      type: object
      properties:
        excel_file:
          type: string
          format: binary

        schema:
          type: string
          enum: [ "towns_fund" ]

        sheet_names:
          type: array
          items:
            type: string

      required:
        - excel_file
        - schema

      example:
        type: object
        content: {
          "excel_file": "somebytes",
          "schema": "towns_fund",
          "sheet_name": [ "Sheet 1", "Sheet 2" ],
        }

    ProjectsIngested:
      type: string

      example:
        type: string
        example: "Project data ingested"

    ProjectData:
      type: object
      example: {
        "address": "DE8 20U",
        "package_id": "FHSF001",
        "project_id": "FHSFDCC001",
        "project_name": "Market Hall",
        "secondary_organisation": ""
      }

    PackageData:
      type: object
      example: {
        "cfo_email": "fake.name@derby.gov.uk",
        "contact_email": "another.name@derby.gov.uk",
        "fund_type_id": "FHSF",
        "m_and_e_email": "more.name@derby.gov.uk",
        "organisation": "Derby City Council",
        "package_id": "FHSF001",
        "package_name": "Derby City Council - FHSF",
        "project_sro_email": "less.name@derby.gov.uk"
      }

    GeneralError:
      type: object
      properties:
        detail:
          type: string
        title:
          type: string
        status:
          type: integer
          format: int32
        type:
          type: string

    ValidationError:
      allOf:
        - $ref: '#/components/schemas/GeneralError'
      properties:
        validation_errors:
          type: array
          items:
            type: string

  parameters:
    project_id:
      in: path
      name: project_id
      schema:
        type: string
      required: true

    package_id:
      in: path
      name: package_id
      schema:
        type: string
      required: true
