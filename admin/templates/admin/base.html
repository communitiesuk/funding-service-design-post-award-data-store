{% extends "govuk_frontend_jinja/template.html" %}

{%- from 'govuk_frontend_jinja/components/header/macro.html' import govukHeader -%}

{% import 'admin/layout.html' as layout with context -%}
{% import 'admin/static.html' as admin_static with context %}

{% block pageTitle %}Data Store Admin{% endblock pageTitle %}

{% block head %}
  <meta name="description" content="{{ service_name }}">
  <meta name="keywords" content="GOV.UK, govuk, gov, government, uk, frontend, ui, user interface, jinja, python, flask, port, template, templating, macro, component, design system, html, forms, wtf, wtforms, widget, widgets, demo, example">
  <meta name="author" content="{{ config['DEPARTMENT_NAME'] }}">
  <link rel="shortcut icon" href="{{ url_for('static', filename='images/favicon.ico') }}">
  {{ vite_tags(static=True) | safe }}

  {% if admin_view.extra_css %}
    {% for css_url in admin_view.extra_css %}
      <link href="{{ css_url }}" rel="stylesheet">
    {% endfor %}
  {% endif %}
{% endblock head %}

{% block header %}
  {{
    govukHeader(
      {
        "serviceName": "Data Store Admin",
        "serviceUrl": "/",
        "containerClasses": "app-width-container--wide",
      }
    )
  }}
{% endblock %}

{% block main %}
    <div class="app-width-container--wide">
      <div class="govuk-grid-row">
        <div class="govuk-grid-column-one-quarter">
          <nav role="navigation">
              {% block main_menu %}
                  <ul class="govuk-list govuk-list--spaced">
                      {{ layout.menu() }}
                  </ul>
              {% endblock %}

                  {% block menu_links %}
                  <ul class="nav navbar-nav navbar-right">
                      {{ layout.menu_links() }}
                  </ul>
                  {% endblock %}
              {% block access_control %}
              {% endblock %}
          </nav>
        </div>
        <div class="govuk-grid-column-three-quarters">
          <div class="govuk-main-wrapper govuk-main-wrapper--l">
            {% block messages %}
                {{ layout.messages() }}
            {% endblock %}

            {# store the jinja2 context for form_rules rendering logic #}
            {% set render_ctx = h.resolve_ctx() %}

            {% block body %}{% endblock %}
          </div>
        </div>
      </div>
    </div>
{% endblock %}

{% block bodyEnd %}
    {% if admin_view.extra_js %}
        {% for js_url in admin_view.extra_js %}
            <script src="{{ js_url }}" type="text/javascript"></script>
        {% endfor %}
    {% endif %}
{% endblock bodyEnd %}


{% block footer %}
  {{
    govukFooter(
      {
        "containerClasses": "app-width-container--wide"
      }
    )
  }}
{% endblock %}
