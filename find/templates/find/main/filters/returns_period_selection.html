{% extends "find/base.html" %}

{%- from "govuk_frontend_jinja/components/accordion/macro.html" import govukAccordion -%}
{%- from 'govuk_frontend_jinja/components/checkboxes/macro.html' import govukCheckboxes -%}
{%- from 'govuk_frontend_jinja/components/select/macro.html' import govukSelect -%}
{%- from 'govuk_frontend_jinja/components/button/macro.html' import govukButton -%}
{%- from 'govuk_frontend_jinja/components/label/macro.html' import govukLabel -%}
{%- from 'govuk_frontend_jinja/components/error-summary/macro.html' import govukErrorSummary -%}
{%- from "find/main/outcomeCheckboxes.html" import outcomeCheckboxItems -%}
{%- from "find/main/checkboxes.html" import checkboxItems -%}
{%- from "find/main/select.html" import selectItems -%}

{% block content %}
<div class="govuk-grid-row">
	<div class="govuk-grid-column-two-thirds">

        <form  method="post" action="{{ url_for('find.select_returns_period') }}">
            <input type="hidden" name="csrf_token" value="{{ csrf_token }}">

            <div>
                <p>From:</p>
                <div class="govuk-form-group-container">
                    <div class="govuk-date-input__item">
                        <label class="govuk-label" for="from-quarter">
                            Financial Quarter
                        </label>
                        <select class="govuk-select" id="from-quarter" name="from-quarter">
                            {% for quarter in returnsParams['from-quarter'] %}
                                <option value="{{ quarter }}" {% if quarter == selected_from_quarter %}selected{% endif %}
                                >{{ quarter }}</option>
                            {% endfor %}
                        </select>
                    </div>

                    <div class="govuk-date-input__item">
                        <label class="govuk-label" for="from-year">
                            Year
                        </label>
                        <select class="govuk-select" id="from-year" name="from-year">
                            {% for year in returnsParams['from-year'] %}
                                <option value="{{ year }}" {% if year == selected_from_year %}selected{% endif %}
                                >{{ year }}
                            </option>
                            {% endfor %}
                        </select>
                    </div>
                </div>

                <p>To:</p>
                <div class="govuk-form-group-container">
                    <div class="govuk-date-input__item">
                        <label class="govuk-label" for="to-quarter">
                            Financial Quarter
                        </label>
                        <select class="govuk-select" id="to-quarter" name="to-quarter">
                            {% for quarter in returnsParams['to-quarter'] %}
                                <option value="{{ quarter }}" {% if quarter == selected_to_quarter %}selected{% endif %}>
                                    {{ quarter }}
                                </option>
                            {% endfor %}
                        </select>
                    </div>

                    <div class="govuk-date-input__item">
                        <label class="govuk-label" for="to-year">
                            Year
                        </label>
                        <select class="govuk-select" id="to-year" name="to-year">
                            {% for year in returnsParams['from-year'] %}
                                <option value="{{ year }}" {% if year == selected_to_year %}selected{% endif %}>
                                    {{ year }}
                                </option>
                            {% endfor %}
                        </select>
                    </div>
                </div>
            </div>

            <div class="govuk-!-margin-top-7">

                <button class="govuk-button" type="submit">Confirm selection</button>
                <a class="govuk-button govuk-button--secondary" href="{{ url_for('find.download_with_filter') }}" role="button">
                    Cancel
                </a>
            </div>
        </form>
        <p class="govuk-body">
            <a class="govuk-link govuk-link--no-visited-state" href="{{ url_for('find.data_glossary') }}">Access the funding glossary</a>
        </p>
    </div>
</div>

{% endblock content %}
